(function(){angular.module("global-loading",[]).constant("global-loading-app",{}).config(["$httpProvider","global-loading-app",function(n,t){var i;return i={count:0,loading:!1,cancel:function(){return i.count=0,i.loading=!1,t.loading(!1)}},n.defaults.transformRequest.push(function(n){return i.count+=1,i.loading||!i.loading&&i.count>0&&(i.loading=!0,t.loading(!0)),n}),n.defaults.transformResponse.push(function(n){return i.count-=1,i.loading&&i.count===0&&i.cancel(),n}),n.responseInterceptors.push(["$rootScope","$q","messager",function(n,t,r){var u,f;return f=function(n){return n},u=function(n){var u;if(!(n.status===401||n.status===403))if(angular.isObject(n.data))if(n.data.Message!=null){if(n.data.StackTrace.indexOf("CatalogInventoryQueryService.OnPost")>0&&n.data.Message.indexOf("Validation Errors")>0)return;n.data.Message&&r.error(n.data.Message)}else n.data.message!=null?n.data.Message&&r.error(n.data.message):(u=JSON.stringify(n.data),u&&r.error(u));else n.data&&r.error(n.data);return i.cancel(),t.reject(n)},function(n){return n.then(f,u)}}])}]).run(["$rootScope","global-loading-app",function(n,t){return t.loading=function(t){var i;return n.loading=t,t?(i=$(".k-loading-mask"),i&&i.length>0)?void 0:$("#target").show():void 0}}])}).call(this)